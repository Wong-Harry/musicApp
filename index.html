<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <title>ms</title>
  </head>
  <body>
    <div id="app"></div>
    <!-- built files will be auto injected -->
    <script>
      (function (doc, win) {
        var docEl = doc.documentElement,
          resizeEvt = 'orientationchange' in window ? 'orientationchange' : 'resize',
          baseUnit = 37.5,
          sizeResult = 0,
          correctPx = function () {
            // rem bug for xiaomi max2
            var clientWidth = docEl.clientWidth;
            if (clientWidth < 320 || clientWidth > 768) return;
  
            var div = doc.createElement('div');
            div.style.width = '30rem';
            div.style.height = '0';
            doc.body.appendChild(div);
            if (div.clientWidth <= 0) return;
            var rmd = ((30 * sizeResult) / div.clientWidth);
            if (rmd < 1.05) return;
  
            var secondSize = rmd * sizeResult;
            if (!secondSize) return;
  
            docEl.style.fontSize = secondSize + 'px';
            doc.body.removeChild(div);
          },
          recalc = function () {
            var clientWidth = docEl.clientWidth;
            if (!clientWidth) return;
            sizeResult = clientWidth / baseUnit;
            docEl.style.fontSize = sizeResult + 'px';
  
            // rem bug for xiaomi max2
            // correctPx()  // don't need this, 不使用该修正
          }
  
        if (!doc.addEventListener) return;
        win.addEventListener(resizeEvt, recalc, false);
        doc.addEventListener('DOMContentLoaded', recalc, false);
  
      })(document, window);
    </script>
  

  </body>
</html>
